(()=>{"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n){var t=function(n){if("object"!=e(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==e(t)?t:t+""}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function o(e,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},o(e,n)}const i=gutenverseCoreFrontend;function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}var u=function(n){function u(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),n=this,o=arguments,t=r(t=u),function(n,t){if(t&&("object"==e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}(n,a()?Reflect.construct(t,o||[],r(n).constructor):t.apply(n,o));var n,t,o}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&o(e,n)}(u,n),l=u,s=[{key:"init",value:function(){var e=this;this._elements.map(function(n){e._init(n)})}},{key:"_init",value:function(e){var n=(0,i.u)(e),t={wrapper:n,openToggle:n.find(".gutenverse-hamburger-menu"),closeToggle:n.find(".gutenverse-close-menu"),container:n.find(".gutenverse-menu-wrapper"),menuDropdown:n.find("li.menu-item-has-children > a"),singleMenu:n.find("li.menu-item:not(.menu-item-has-children)"),overlay:n.find(".guten-nav-overlay"),hasChildren:n.find("li.menu-item-has-children")};this.__handleAnchor(e),this._firstLoad(t)}},{key:"_firstLoad",value:function(e){this._addBodyClass(),this._addDropdownIcon(e),this._toggleMenu(e)}},{key:"_addBodyClass",value:function(){(0,i.u)("html").addClass("gutenverse-nav-menu-loaded")}},{key:"_addDropdownIcon",value:function(e){var n=e.wrapper.data("item-indicator"),t=e.wrapper.data("item-indicator-type"),r=e.wrapper.data("item-indicator-svg");e.menuDropdown.each(function(e){if((0,i.u)(e).find("i").remove(),(0,i.u)(e).find("svg").remove(),"svg"===t&&r)try{var o=atob(r);(0,i.u)(e).append("<div class='gutenverse-icon-svg'>".concat(o,"</div>"))}catch(t){(0,i.u)(e).append("<i class='".concat(n,"'></i>"))}else(0,i.u)(e).append("<i class='".concat(n,"'></i>"))})}},{key:"_handleSubMenusOverflow",value:function(e){var n=window.innerWidth,t=[];e.forEach(function(e){if(e.getBoundingClientRect().right>n){var r=window.getComputedStyle(e).left;t.push({submenu:e,leftVal:r})}}),t.forEach(function(e){var n=e.submenu;"0px"===e.leftVal?(0,i.u)(n).attr("style","left: -120%;"):(0,i.u)(n).attr("style","left: auto; right: 100%;")})}},{key:"_toggleMenu",value:function(e){var n=[];function t(e){e.toggleClass("dropdown-open")}e.hasChildren.each(function(e){var t=(0,i.u)(e).find(".sub-menu").first();t&&n.push(t)}),this._handleSubMenusOverflow(n),e.openToggle.off("click").on("click",function(){e.container.hasClass("active")?e.container.removeClass("active"):e.container.addClass("active"),e.overlay.hasClass("active")?(e.overlay.removeClass("active"),e.overlay.addClass("exiting")):(e.overlay.addClass("active"),e.overlay.removeClass("exiting"))}),e.closeToggle.on("click",function(){e.container.removeClass("active"),e.overlay.hasClass("active")&&e.overlay.addClass("exiting"),e.overlay.removeClass("active")}),e.wrapper.hasClass("submenu-click-title")&&e.menuDropdown.on("click",function(n){var r=window.innerWidth;(e.wrapper.hasClass("break-point-mobile")&&r<=425||e.wrapper.hasClass("break-point-tablet")&&r<=780)&&n.preventDefault(),t((0,i.u)(this).siblings(".sub-menu"))}),e.wrapper.find("li.menu-item-has-children > a i, li.menu-item-has-children > a svg").on("click",function(e){e.preventDefault(),e.stopPropagation(),t((0,i.u)(this).parent("a").siblings(".sub-menu"))}),1===parseInt(e.wrapper.data("close-on-click"))&&e.singleMenu.on("click",function(){e.container.removeClass("active"),e.overlay.removeClass("active")})}},{key:"__normalizeUrl",value:function(e){return e.endsWith("/")?e.slice(0,-1):e}},{key:"__removingClass",value:function(e,n){var t=this;(0,i.u)(e).find(".gutenverse-menu a").each(function(e){var r=(0,i.u)(e).closest("li");t.__normalizeUrl(e.href)!==n?r.removeClass("current-menu-item"):r.addClass("current-menu-item")})}},{key:"__handleAnchor",value:function(e){var n=this,t=this.__normalizeUrl(window.location.href);this.__removingClass(e,t),window.addEventListener("popstate",function(){t=n.__normalizeUrl(window.location.href),n.__removingClass(e,t)})}}],s&&t(l.prototype,s),Object.defineProperty(l,"prototype",{writable:!1}),l;var l,s}(i.Default),l=(0,i.u)(".guten-nav-menu");l&&new u(l)})();